{"version":3,"sources":["webpack:///./src/store/liveinfo.js","webpack:///src/components/liveInput.vue","webpack:///./src/components/liveInput.vue?7508","webpack:///./src/components/liveInput.vue","webpack:///src/containers/manage/manageDetail/newLive.vue","webpack:///./src/containers/manage/manageDetail/newLive.vue?be0e","webpack:///./src/containers/manage/manageDetail/newLive.vue"],"names":["liveinfo","liveInfo","classCallCheck_default","this","possibleConstructorReturn_default","__proto__","get_prototype_of_default","call","data","post","id","get","channelId","optype","userSig","randomInt","app_config","appid","groupMessageUrl","Random","parseInt","Math","random","toString","slice","BaseModule","liveInput","localStorage","getItem","val","userId","name","time","timeEnd","location","then","res","liveId","info","catch","err","components_liveInput","render","_vm","_h","$createElement","_c","_self","attrs","_v","for","directives","rawName","value","expression","type","domProps","on","input","$event","target","composing","date","click","submit","staticRenderFns","src_components_liveInput","__webpack_require__","normalizeComponent","ssrContext","Shelf","shelf","videoCard","Button","common_button","fetchData","retureData","i","liveName","temp","computed","extends_default","Object","vuex_esm","methods","isShow","payload","$route","nameId","manageDetail_newLive","staticClass","title","text","btnClick","newlive","handlelive","_l","item","key","msg","cardClick","toLive","channelName","newLive_Component","newLive_normalizeComponent","newLive","__webpack_exports__"],"mappings":"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","file":"static/js/8.5addad3f933cb37b2089.js","sourcesContent":["// 直播相关的ajax模块\r\n//PC Mobile的直播相关模块都算在这里,echart获取的也在里面\r\nimport BaseModule from './BaseModule'\r\nimport appConfig from '../../config/app.config'\r\nclass liveInfo extends BaseModule{\r\n  constructor(){\r\n      super()\r\n  }\r\n  getLiveChannel(data){\r\n     return this.post('/live/getLiveInChannel',data)\r\n  }\r\n  createNewLive(data){\r\n      return this.post('/live/createNewLive',data)\r\n  }\r\n  getLiveInfo(data){\r\n      return this.post('/live/getLiveInfo',data)\r\n  }\r\n  getDianboInfo(id){\r\n     return this.get(`/0.1/wechat/video/${id}`);\r\n  }\r\n  ////////下面是手机直播观看模块\r\n  liveDetailMobile(channelId){\r\n    return this.get(`/video/liveDetailMobile?channelId=${channelId}`)\r\n  }\r\n  getVedioInChannel(channelId){\r\n    return this.get(`/video/getVideoInChannel?channelId=${channelId}`)\r\n  }\r\n  getMobileLiveInfo (id) {\r\n    return this.post('/mobile/livePlay', {\r\n      channelId: id\r\n    })\r\n  }\r\n  getLiveHistory (id) {\r\n    return this.post('/mobile/getVideoInChannel', {\r\n      channelId: id\r\n    })\r\n  }\r\n  getChatUserSig () {\r\n    return this.get('/0.1/im/sig?userId=admin')\r\n  }\r\n  groupMessageUrl (optype, userSig, randomInt) {\r\n    return `https://console.tim.qq.com/v4/group_open_http_svc/${optype}?usersig=${\r\n      userSig\r\n    }&sdkappid=${\r\n      appConfig.appid\r\n    }&identifier=admin&random=${\r\n      randomInt\r\n    }&contenttype=json`\r\n  }\r\n  sendChatMessage (userSig, data) {\r\n    return this.post(this.groupMessageUrl('send_group_msg', userSig, data.Random), data)\r\n  }\r\n  getHistoryChatMessage (userSig, data) {\r\n    return this.post(this.groupMessageUrl('group_msg_get_simple', userSig, data.Random), data)\r\n  }\r\n  getRandomInt () {\r\n    return parseInt(Math.random().toString().slice(2, 10))\r\n  }\r\n    \r\n  // 直播\\点播信息相关\r\n  liveUserData(data){\r\n    return this.post('/live/userListStatistics',data)\r\n  }\r\n  liveData(data){\r\n    return this.post('/live/liveStatistics',data)\r\n  }\r\n  dianboData(data){\r\n    return this.post('/record/video',data)\r\n  }\r\n  liveCountInfo(data){\r\n    return this.post('/statistic/getChannelAndLive',data)\r\n  }\r\n  \r\n}\r\n\r\nexport default new liveInfo();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/liveinfo.js","<template>\r\n  <div id=\"page-wrapper\">\r\n     <h1>新建直播</h1>\r\n     <label for=\"text\">直播名称</label><input type=\"text\" id=\"text\" v-model=\"name\">\r\n     <label for=\"place\">直播地点</label><input type=\"text\" id=\"place\" v-model=\"location\">\r\n     <label for=\"date\">直播日期</label><input type=\"date\" id=\"date\" v-model=\"date\">\r\n     <label for=\"datetime\">开始时间</label><input type=\"text\" id=\"datetime\" v-model=\"time\">\r\n      <label for=\"timeend\">结束时间</label><input type=\"text\" id=\"timeend\" v-model=\"timeEnd\">\r\n     <label for=\"content\">直播简介</label><input type=\"text\" id=\"content\" v-model=\"info\">\r\n     <button @click=\"submit\">提交</button>\r\n  </div>\r\n\r\n \r\n</template>\r\n<script>\r\nimport liveHandler from 'store/liveinfo.js'\r\nvar user=localStorage.getItem('userName');\r\nexport default {\r\n  data(){\r\n    return{\r\n      name:'',\r\n      location:'',\r\n      date:'',\r\n      time:'',\r\n      timeEnd:'',\r\n      info:'',\r\n      channel:''\r\n    }\r\n  },\r\n  watch:{\r\n    channelId:function(val){\r\n        this.channel=val;\r\n    }\r\n  },\r\n  methods:{\r\n\r\n    submit:function(){\r\n      if((this.name==\"\") || (this.info==\"\")||(this.location==\"\")||(this.time==\"\")||(this.date=='')||(this.timeEnd==\"\")){\r\n        //不知为何，！this.name就不行，这是为啥，可能'' 不是false\r\n        alert(\"填写完信息再提交！\");\r\n      }\r\n      else{\r\n         var that=this;\r\n         var userId=sessionStorage.getItem('userId');\r\n         liveHandler.createNewLive({\r\n                \"userId\":userId,\r\n                \"token\":'',\r\n                \"channelId\":localStorage.getItem('channelId'),\r\n                \"liveName\":this.name,\r\n                \"startTime\":this.time,\r\n                \"endTime\":this.timeEnd,\r\n                \"location\":this.location\r\n                }).then(function(res){\r\n\r\n                if(res.data.retureValue==0){\r\n                  alert('新建成功')\r\n                    localStorage.setItem('liveId',res.data.retureData.liveId);\r\n                    that.$emit(\"newlive\",{name:that.name,location:that.location,date:that.date,time:that.time,endtime:that.timeEnd,info:that.info});\r\n                    that.name='';\r\n                    that.location='';\r\n                    that.date='';\r\n                    that.time='';\r\n                    that.timeEnd='';\r\n                    that.info='';\r\n                }\r\n                else{\r\n                  alert(\"创建失败\")\r\n                }\r\n                }).catch(\r\n                  function(err){\r\n                    console.log(err);\r\n                    alert(\"创建失败.\");\r\n                  }\r\n                );\r\n\r\n\r\n      \r\n       \r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n   #page-wrapper {\r\n  width: 640px;\r\n  background: #FFFFFF;\r\n  padding: 1em;\r\n  margin: 1em auto;\r\n  border: 1px solid #293949;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.8);\r\n}\r\n\r\nh1 {\r\n  margin-top: 0;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  padding-bottom: 0.25em;\r\n  text-align left\r\n}\r\n\r\ninput {\r\n  display: block;\r\n  font-size: 1.2em;\r\n  padding: 0.25em;\r\n  width: 100%;\r\n  margin-bottom: 1em;\r\n  border-radius: 3px;\r\n  border: 1px solid #BABABA;\r\n}\r\n\r\nbutton {\r\n  display: inline-block;\r\n  border-radius: 3px;\r\n  border: none;\r\n  font-size: 0.9rem;\r\n  padding: 0.4rem 0.8em;\r\n  background: #293949;\r\n  border-bottom: 1px solid #498b50;\r\n  color: white;\r\n  -webkit-font-smoothing: antialiased;\r\n  font-weight: bold;\r\n  margin: 0 0.25rem;\r\n  text-align: center;\r\n}\r\n\r\nbutton:hover, button:focus {\r\n  opacity: 0.75;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:active {\r\n  opacity: 1;\r\n  box-shadow: 0 -3px 10px rgba(0, 0, 0, 0.1) inset;\r\n}\r\n\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/liveInput.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"page-wrapper\"}},[_c('h1',[_vm._v(\"新建直播\")]),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"text\"}},[_vm._v(\"直播名称\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],attrs:{\"type\":\"text\",\"id\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"place\"}},[_vm._v(\"直播地点\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.location),expression:\"location\"}],attrs:{\"type\":\"text\",\"id\":\"place\"},domProps:{\"value\":(_vm.location)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.location=$event.target.value}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"date\"}},[_vm._v(\"直播日期\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.date),expression:\"date\"}],attrs:{\"type\":\"date\",\"id\":\"date\"},domProps:{\"value\":(_vm.date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.date=$event.target.value}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"datetime\"}},[_vm._v(\"开始时间\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.time),expression:\"time\"}],attrs:{\"type\":\"text\",\"id\":\"datetime\"},domProps:{\"value\":(_vm.time)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.time=$event.target.value}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"timeend\"}},[_vm._v(\"结束时间\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.timeEnd),expression:\"timeEnd\"}],attrs:{\"type\":\"text\",\"id\":\"timeend\"},domProps:{\"value\":(_vm.timeEnd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.timeEnd=$event.target.value}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"content\"}},[_vm._v(\"直播简介\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.info),expression:\"info\"}],attrs:{\"type\":\"text\",\"id\":\"content\"},domProps:{\"value\":(_vm.info)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.info=$event.target.value}}}),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-18ec9330\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/liveInput.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-18ec9330\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./liveInput.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./liveInput.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./liveInput.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-18ec9330\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./liveInput.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-18ec9330\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/liveInput.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n     <section class=\"mt30 clearfix\">\r\n       <Shelf :title=\"title\">\r\n       </Shelf>\r\n          <Button text=\"新建直播\"  @btnClick=\"newlive\" class=\"button\"></Button>\r\n           <liveInput v-show=\"isShow\" v-on:newlive=\"handlelive\" class=\"input\"></liveInput>\r\n      <div  class=\"homevideo\" > \r\n        <videoCard :msg=\"item\" :key=\"i\" v-for=\"(item,i) in liveList\" @cardClick=\"toLive(item.channelName,item.liveId)\"></videoCard>\r\n       </div>\r\n       \r\n     </section>\r\n  \r\n    \r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport Shelf from 'components/common/shelf'\r\nimport videoCard from 'components/common/videoCard'\r\nimport Button from 'components/common/button'\r\nimport liveInput from 'components/liveInput'\r\nimport { mapMutations, mapState } from 'vuex'\r\nimport { getStore } from 'store/storage'\r\nimport liveHandler from 'store/liveinfo.js'\r\n    export default{\r\n      data(){\r\n           return{\r\n             isShow:false,   //决定新建频道框是否弹出\r\n             messages:'',     //存储新建框这个子组件传上来的信息\r\n             title:''\r\n             //channelId:''\r\n           }\r\n       },\r\n      components:{\r\n        Shelf,\r\n        videoCard,\r\n        Button,\r\n        liveInput \r\n      },\r\n       created(){\r\n         console.log('hahahah')\r\n       this.fetchData();\r\n       this.title=localStorage.getItem('liveTitle');\r\n       var that=this;\r\n       var channel=localStorage.getItem('channelId');\r\n       \r\n       liveHandler.getLiveChannel({\"channelId\":channel}).then(function(res){\r\n              if(res.data.retureValue==0){\r\n                console.log(res.data.retureData);\r\n                \r\n                for(let i=0;i<res.data.retureData.length;i++){\r\n                   let temp=res.data.retureData[i];\r\n                   if(!temp.imgLocation) temp.imgLocation='static/imgs/cover2.jpg';\r\n                   if(!temp.playNum) temp.playNum=100;\r\n                   if(!temp.viewNum) temp.viewNum=50;\r\n                   if(!temp.channelName) temp.channelName=temp.liveName;\r\n                   that.$store.state.liveList.push(temp);\r\n                }\r\n               \r\n              }\r\n              // else{\r\n              //    alert(\"加载失败\");\r\n              // }\r\n         }).catch(function(err){\r\n             console.log(err);\r\n            // alert(\"加载失败.\");\r\n         });\r\n       },\r\n      watch:{\r\n      '$route':'fetchData'\r\n      },\r\n      computed:{\r\n        ...mapState(\r\n          ['liveList']\r\n        )\r\n      },\r\n      methods:{\r\n        ...mapMutations(['ADD_LIVE']),\r\n        newlive:function(){\r\n           this.isShow = !this.isShow;\r\n        },\r\n        handlelive:function(payload){\r\n           this.messages=payload;\r\n           this.isShow=false;\r\n           this.ADD_LIVE({\r\n             imgLocation:'static/imgs/cover2.jpg',\r\n             channelName:this.messages.name,\r\n             playNum:0,\r\n             viewNum:0\r\n           });\r\n        },\r\n        fetchData:function(){\r\n           this.$store.state.liveList=[];\r\n            console.log(this.$route)\r\n            if(this.$route.params.nameId){                                       //处理f5以后，title为空的问题\r\n               localStorage.setItem('liveTitle',this.$route.params.nameId);\r\n            }\r\n            if(this.$route.params.channelId){                                   //处理f5之后，channelId为空的问题\r\n            localStorage.setItem('channelId',this.$route.params.channelId);\r\n            }\r\n        },\r\n        toLive:function(name,liveId){\r\n          \r\n           if(liveId==null) liveId=localStorage.getItem('liveId');\r\n            console.log(name,liveId)\r\n           this.$router.push({name:'viewVideo',params:{nameId:name,liveId:liveId}});\r\n        }\r\n      }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n    .mt30 {\r\n    width:1220px;\r\n    height:100%;\r\n    margin:50px auto;\r\n    border-radius: 8px;\r\n    border: 1px solid #dcdcdc;\r\n    border-color: rgba(0, 0, 0, .14);\r\n    box-shadow: 0 3px 8px -6px rgba(0, 0, 0, .1);\r\n  }\r\n  .homevideo\r\n    display flex\r\n    flex-wrap: wrap \r\n    >div\r\n      flex 0 0 25%                   //这样的好处是，就算一行只有一个div，也会只分布25%，不会自动扩展到整个那么长\r\n  .button{\r\n    position:absolute;\r\n    top:185px;\r\n    left:80%;\r\n    z-index:20;\r\n  }\r\n   .input{\r\n    position absolute;\r\n    left:50%;\r\n    top:55%;\r\n    transform: translate(-50%,-50%);\r\n    z-index:10;\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/containers/manage/manageDetail/newLive.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"mt30 clearfix\"},[_c('Shelf',{attrs:{\"title\":_vm.title}}),_vm._v(\" \"),_c('Button',{staticClass:\"button\",attrs:{\"text\":\"新建直播\"},on:{\"btnClick\":_vm.newlive}}),_vm._v(\" \"),_c('liveInput',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"input\",on:{\"newlive\":_vm.handlelive}}),_vm._v(\" \"),_c('div',{staticClass:\"homevideo\"},_vm._l((_vm.liveList),function(item,i){return _c('videoCard',{key:i,attrs:{\"msg\":item},on:{\"cardClick\":function($event){_vm.toLive(item.channelName,item.liveId)}}})}))],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-4381e224\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/containers/manage/manageDetail/newLive.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4381e224\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./newLive.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./newLive.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./newLive.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4381e224\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./newLive.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4381e224\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/manage/manageDetail/newLive.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}