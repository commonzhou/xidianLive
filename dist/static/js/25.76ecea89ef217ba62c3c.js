webpackJsonp([25],{fmMK:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("6dBF"),s=i("v4Kd"),o={data:function(){return{name:"",videoPic:"",videoUrl:"",videoName:"",liveTitle:"",startTime:"",endTime:"",liveLocation:"",liveInfo:"",pushUrl:"",pushName:"",schduledList:"",channelId:"",type:"",playUrl:""}},components:{Tab:a.a},created:function(){this.fetchData(),this.channelId=localStorage.getItem("channelId");var e=sessionStorage.getItem("userId");this.type=localStorage.getItem("type");var t=this;console.log(this.type),1==this.type?s.a.getDianboInfo(localStorage.getItem("liveId")).then(function(e){if(0==e.data.retureValue){var i=e.data.retureData;t.videoPic=i.coverPicture,t.liveTitle=i.videoName,t.startTime=t.timestampToTime(1e3*i.startTime),t.endTime=t.timestampToTime(1e3*i.endTime),t.liveLocation=i.location,t.liveInfo=i.introduction,t.schduledList=i.schduledList,t.playUrl=i.playUrl;new TcPlayer("movie",{m3u8:t.playUrl,autoplayer:!0,coverpic:{style:"cover",src:"http://vodplayerinfo-10005041.file.myqcloud.com/3035579109/vod_paster_pause/paster_pause1469013308.jpg"},width:"100%"})}else console.log("不知名错误")}).catch(function(e){console.log(e)}):s.a.getLiveInfo({userId:e,token:"",channelId:localStorage.getItem("channelId"),liveId:localStorage.getItem("liveId")}).then(function(e){if(0==e.data.retureValue){var i=e.data.retureData;t.videoPic=i.coverPicture,t.liveTitle=i.title,t.startTime=t.timestampToTime(i.startTime),t.endTime=t.timestampToTime(i.endTime),t.liveLocation=i.location,t.liveInfo=i.introduction,t.schduledList=i.schduledList;var a=i.hlsPlayUrl.indexOf("live/");t.videoUrl=i.hlsPlayUrl.substring(0,a).concat("live/"),t.videoName=i.hlsPlayUrl.substring(a+5);var s=i.pushUrl.indexOf("live/");t.pushUrl=i.pushUrl.substring(0,s).concat("live/"),t.pushName=i.pushUrl.substring(s+5);new TcPlayer("movie",{m3u8:i.hlsPlayUrl,autoplayer:!0,coverpic:{style:"cover",src:"http://vodplayerinfo-10005041.file.myqcloud.com/3035579109/vod_paster_pause/paster_pause1469013308.jpg"},width:"100%"})}else console.log("不知名错误")}).catch(function(e){console.log(e)})},watch:{$route:"fetchData"},methods:{fetchData:function(){console.log(this.$route.params),this.$route.params.nameId&&(this.name=this.$route.params.nameId,"学术"==this.$route.params.type&&localStorage.setItem("type",1),this.$route.params.type||localStorage.setItem("type",0),localStorage.setItem("liveId",this.$route.params.liveId))},timestampToTime:function(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+(t.getDate()+" ")+(t.getHours()+":")+(t.getMinutes()+":")+t.getSeconds()}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Tab"),e._v(" "),i("div",{staticClass:"header"},[e._v(e._s(e.liveTitle))]),e._v(" "),i("div",{staticClass:"container"},[e._m(0),e._v(" "),i("div",{staticClass:"aside"},[i("div",{staticClass:"section"},[i("div",[e._v("直播名称："+e._s(e.liveTitle))]),e._v(" "),i("div",[e._v("开始时间："+e._s(e.startTime))]),e._v(" "),i("div",[e._v("结束时间："+e._s(e.endTime))]),e._v(" "),i("div",[e._v("活动地点："+e._s(e.liveLocation))]),e._v(" "),i("div",[e._v("活动介绍："+e._s(e.liveInfo))])]),e._v(" "),i("div",{staticClass:"section"},[i("div",[e._v("直播流URL:")]),e._v(" "),i("div",[e._v(e._s(e.videoUrl))]),e._v(" "),i("div",[e._v("直播流名称:")]),e._v(" "),i("div",[e._v(e._s(e.videoName))]),e._v(" "),i("div",[e._v("推流URL:")]),e._v(" "),i("div",[e._v(e._s(e.videoUrl))]),e._v(" "),i("div",[e._v("推流名称:")]),e._v(" "),i("div",[e._v(e._s(e.pushName))]),e._v(" "),i("div",[i("router-link",{staticClass:"mobile",attrs:{to:{path:"viewMobile",query:{channelId:e.channelId}},tag:"div"}},[e._v("前往手机端")])],1)]),e._v(" "),i("div",{staticClass:"section"},[i("div",[e._v("节目单")]),e._v(" "),e._l(e.schduledList,function(t,a){return i("div",{key:a},[e._v(e._s(t))])})],2)])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"main"},[t("div",{attrs:{id:"window"}},[t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"movie"}})])])}]};var v=i("Z0/y")(o,l,!1,function(e){i("g/G7")},"data-v-466f0336",null);t.default=v.exports},"g/G7":function(e,t){}});
//# sourceMappingURL=25.76ecea89ef217ba62c3c.js.map