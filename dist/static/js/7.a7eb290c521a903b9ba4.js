webpackJsonp([7],{"1kex":function(e,t){},I0J4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("Ssjz"),o=(r("p7Eg"),{data:function(){var e=this;return{checked:"",checkCode:"",ruleForm2:{name:"",pass:"",graph:""},rules2:{name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:11,max:11,message:"长度11个字符",trigger:"blur"}],pass:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:12,message:"请输入6-12位密码",trigger:"blur"}],graph:[{required:!0,message:"请输入验证码",trigger:"blur"},{message:"辣鸡，连个验证码都搞不定",trigger:"blur",validator:function(t,r,s){r.toLocaleUpperCase()!=e.checkCode?s(new Error("请输入验证码")):s()}}]}}},components:{},mounted:function(){this.createCode()},methods:{createCode:function(){for(var e="",t=new Array(0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"),r=0;r<4;r++){e+=t[Math.floor(36*Math.random())]}this.checkCode=e},submitForm:function(e){var t=this,r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.a.postlogin({userName:t.ruleForm2.name,password:t.ruleForm2.pass}).then(function(e){console.log(e),0==e.data.retureValue?(sessionStorage.setItem("userName",r.ruleForm2.name),sessionStorage.setItem("password",r.ruleForm2.pass),sessionStorage.setItem("userId",e.data.retureData.userId),r.$store.state.login=!0,r.$router.push("/main")):alert("用户名或者密码不对啊")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()}}}),a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{attrs:{id:"subtitle"}},[e._v("登  陆")]),e._v(" "),r("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm form",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"30px",size:"medium "}},[r("el-form-item",{staticClass:"item item1",attrs:{prop:"name"}},[r("el-input",{attrs:{"auto-complete":"off",placeholder:"手机号"},model:{value:e.ruleForm2.name,callback:function(t){e.$set(e.ruleForm2,"name",t)},expression:"ruleForm2.name"}})],1),e._v(" "),r("el-form-item",{staticClass:"item",attrs:{prop:"pass"}},[r("el-input",{attrs:{"auto-complete":"off",placeholder:"密码",type:"password"},model:{value:e.ruleForm2.pass,callback:function(t){e.$set(e.ruleForm2,"pass",t)},expression:"ruleForm2.pass"}})],1),e._v(" "),r("el-form-item",{staticClass:"item",attrs:{prop:"graph"}},[r("el-input",{staticClass:" item2",attrs:{placeholder:"请输入数字验证码"},model:{value:e.ruleForm2.graph,callback:function(t){e.$set(e.ruleForm2,"graph",t)},expression:"ruleForm2.graph"}}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.checkCode,expression:"checkCode"}],staticClass:"verification",attrs:{type:"button",id:"code"},domProps:{value:e.checkCode},on:{click:e.createCode,input:function(t){t.target.composing||(e.checkCode=t.target.value)}}})],1),e._v(" "),r("div",{attrs:{id:"check"}},[r("el-checkbox",{staticClass:"check",model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("自动登陆 ")]),e._v(" "),r("span",{staticClass:"password"},[e._v("忘记密码")])],1),e._v(" "),r("el-form-item",{staticClass:"buttontotal"},[r("el-button",{staticClass:"buttons",attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm2")}}},[e._v("登陆")]),e._v(" "),r("router-link",{attrs:{to:"/register"}},[r("el-button",{staticClass:"buttons",on:{click:function(t){e.resetForm("ruleForm2")}}},[e._v("注册")])],1)],1)],1)],1)},staticRenderFns:[]};var n={components:{Form:r("Z0/y")(o,a,!1,function(e){r("1kex")},"data-v-4e54a920",null).exports}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Form")],1)},staticRenderFns:[]};var u=r("Z0/y")(n,i,!1,function(e){r("lSt9")},"data-v-857c28ac",null);t.default=u.exports},Ssjz:function(e,t,r){"use strict";var s=r("Yarq"),o=r.n(s),a=r("AA3o"),n=r.n(a),i=r("xSur"),u=r.n(i),l=r("UzKs"),c=r.n(l),m=r("Y7Ml"),d=r.n(m),p=function(e){function t(){return n()(this,t),c()(this,(t.__proto__||o()(t)).call(this))}return d()(t,e),u()(t,[{key:"postlogin",value:function(e){return this.post("/user/login",e)}},{key:"forgetPwd",value:function(e){return this.post("/user/forgetPassword",e)}},{key:"register",value:function(e){return this.post("/user/register",e)}},{key:"updatePwd",value:function(e){return this.post("/user/updatePassword",e)}}]),t}(r("vdk2").a);t.a=new p},lSt9:function(e,t){}});
//# sourceMappingURL=7.a7eb290c521a903b9ba4.js.map