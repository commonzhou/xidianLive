webpackJsonp([9],{"0WN2":function(e,t){},"5AAR":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),s=a.n(n),o=a("n2Gk"),i=a("h+y+"),r=a("nA34"),c=a("6Gx8"),u={data:function(){return{name:"",person:""}},methods:{submit:function(){var e=this;""==this.name||""==this.person?alert("填写完信息再提交！"):c.a.createNewChannel({userId:sessionStorage.getItem("userId"),channelName:this.name}).then(function(t){0==t.data.retureValue&&(alert("新建成功"),localStorage.setItem("channelId",t.data.retureData.channelId),e.$emit("message",{name:e.name,person:e.person}),e.name="",e.person="")}).catch(function(e){console.log(e)})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"page-wrapper"}},[a("h1",[e._v("新建频道")]),e._v(" "),a("label",{attrs:{for:"text"}},[e._v("频道名称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",id:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"name"}},[e._v("创建者")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.person,expression:"person"}],attrs:{type:"text",id:"name"},domProps:{value:e.person},on:{input:function(t){t.target.composing||(e.person=t.target.value)}}}),e._v(" "),a("button",{on:{click:e.submit}},[e._v("提交")])])},staticRenderFns:[]};var m=a("Z0/y")(u,l,!1,function(e){a("abKt")},"data-v-f03b16ba",null).exports,d=a("9rMa"),v=(a("p7Eg"),{data:function(){return{isShow:!1,messages:""}},components:{Shelf:o.a,videoCard:i.a,Button:r.a,channelInput:m},computed:s()({},Object(d.c)(["videoList"])),created:function(){var e=sessionStorage.getItem("userId"),t=this;c.a.getChannelList({userId:e}).then(function(e){if(0==e.data.retureValue){console.log(e.data.retureData),t.$store.state.videoList=[];for(var a=0;a<e.data.retureData.length;a++){var n=e.data.retureData[a];n.imgLocation||(n.imgLocation="static/imgs/cover2.jpg"),n.playNum||(n.playNum=100),n.viewNum||(n.viewNum=50),t.$store.state.videoList.push(n)}}else alert("加载失败")}).catch(function(e){console.log(e),alert("加载失败.")})},methods:s()({},Object(d.b)(["ADD_CHANNEL"]),{newchannel:function(){this.isShow=!this.isShow},handleMessage:function(e){this.messages=e,this.isShow=!1,this.ADD_CHANNEL({imgLocation:"static/imgs/cover2.jpg",channelName:this.messages.name,playNum:0,viewNum:0})},toLive:function(e,t){this.$router.push({name:"newLive",params:{nameId:e,channelId:t}})}})}),h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"mt30 clearfix"},[a("Shelf",{attrs:{title:"频道一览"}}),e._v(" "),a("Button",{staticClass:"button",attrs:{text:"新建频道"},on:{btnClick:e.newchannel}}),e._v(" "),a("channelInput",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"input",on:{message:e.handleMessage}}),e._v(" "),a("div",{staticClass:"homevideo"},e._l(e.videoList,function(t,n){return a("videoCard",{key:n,attrs:{msg:t},on:{cardClick:function(a){e.toLive(t.channelName,t.channelId)}}})}))],1)])},staticRenderFns:[]};var p=a("Z0/y")(v,h,!1,function(e){a("0WN2")},"data-v-332c2b92",null);t.default=p.exports},abKt:function(e,t){}});
//# sourceMappingURL=9.951f1931f98593c1eb54.js.map