{"version":3,"sources":["webpack:///src/components/channelInput.vue","webpack:///./src/components/channelInput.vue?216c","webpack:///./src/components/channelInput.vue","webpack:///src/containers/manage/manageDetail/channel.vue","webpack:///./src/containers/manage/manageDetail/channel.vue?9803","webpack:///./src/containers/manage/manageDetail/channel.vue"],"names":["channelInput","this","then","res","channelId","person","catch","err","components_channelInput","render","_vm","_h","$createElement","_c","_self","attrs","id","_v","for","directives","name","rawName","value","expression","type","domProps","on","input","$event","target","composing","click","submit","staticRenderFns","src_components_channelInput","__webpack_require__","normalizeComponent","ssrContext","Shelf","shelf","videoCard","Button","common_button","computed","extends_default","Object","vuex_esm","retureData","i","temp","methods","isShow","payload","manageDetail_channel","staticClass","title","text","btnClick","newchannel","message","handleMessage","_l","item","key","msg","cardClick","toLive","channelName","channel_Component","channel_normalizeComponent","channel","__webpack_exports__"],"mappings":"uMAUAA,+BAIA,UAEA,sCAIAC,0CAEA,iEAIA,kCADAC,KAAA,SAAAC,iCAKA,2DACAC,mDACAC,4BAEA,MAKAC,MAAA,SAAAC,eAEAA,QCtCAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAT,KAAaU,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,kBAAqBH,EAAA,MAAAH,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAJ,EAAA,SAAoDE,OAAOG,IAAA,UAAcR,EAAAO,GAAA,UAAAJ,EAAA,SAA+BM,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAZ,EAAA,KAAAa,WAAA,SAAkER,OAASS,KAAA,OAAAR,GAAA,QAA0BS,UAAWH,MAAAZ,EAAA,MAAmBgB,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCpB,EAAAU,KAAAQ,EAAAC,OAAAP,WAA+BZ,EAAAO,GAAA,KAAAJ,EAAA,SAA0BE,OAAOG,IAAA,UAAcR,EAAAO,GAAA,SAAAJ,EAAA,SAA8BM,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAZ,EAAA,OAAAa,WAAA,WAAsER,OAASS,KAAA,OAAAR,GAAA,QAA0BS,UAAWH,MAAAZ,EAAA,QAAqBgB,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCpB,EAAAL,OAAAuB,EAAAC,OAAAP,WAAiCZ,EAAAO,GAAA,KAAAJ,EAAA,UAA2Ba,IAAIK,MAAArB,EAAAsB,UAAoBtB,EAAAO,GAAA,WAE30BgB,oBCCjB,IAuBAC,EAvBAC,EAAA,OAcAC,CACApC,EACAQ,GATA,EAVA,SAAA6B,GACAF,EAAA,SAaA,kBAEA,MAUA,6FCSAG,MAAAC,EAAA,EACAC,YAAA,EACAC,OAAAC,EAAA,EAEA1C,aAAAkC,GACAS,SAAAC,OACAC,OAAAC,EAAA,EAAAD,EAGA,+DAEA,YACA5C,8EAEA,oBACA8C,mFAEA,yBACAC,iCACA,gDACA,2BACA,kCACAC,eAIA,wCAGA1C,SACA,YAGA2C,QAAAN,OAAAC,OAAAC,EAAA,EAAAD,EACA,yDAGAM,gDAGAC,eACA,gCAEA,mDACAhC,aACA,UAEA,uFAKAJ,UCpFAqC,GADiB5C,OAFjB,WAA0B,IAAAC,EAAAT,KAAaU,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+ByC,YAAA,kBAA4BzC,EAAA,SAAcE,OAAOwC,MAAA,UAAgB7C,EAAAO,GAAA,KAAAJ,EAAA,UAA2ByC,YAAA,SAAAvC,OAA4ByC,KAAA,QAAc9B,IAAK+B,SAAA/C,EAAAgD,cAA2BhD,EAAAO,GAAA,KAAAJ,EAAA,gBAAiCM,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAZ,EAAA,OAAAa,WAAA,WAAoE+B,YAAA,QAAA5B,IAA0BiC,QAAAjD,EAAAkD,iBAA6BlD,EAAAO,GAAA,KAAAJ,EAAA,OAAwByC,YAAA,aAAwB5C,EAAAmD,GAAAnD,EAAA,mBAAAoD,EAAAd,GAAyC,OAAAnC,EAAA,aAAuBkD,IAAAf,EAAAjC,OAAaiD,IAAAF,GAAWpC,IAAKuC,UAAA,SAAArC,GAA6BlB,EAAAwD,OAAAJ,EAAAK,YAAAL,EAAA1D,mBAAgD,MAEhpB6B,oBCCjB,IAcAmC,EAdAjC,EAAA,OAcAkC,CACAC,EACAjB,GATA,EAVA,SAAAhB,GACAF,EAAA,SAaA,kBAEA,MAUAoC,EAAA,QAAAH,EAAA","file":"static/js/9.951f1931f98593c1eb54.js","sourcesContent":["<template>\r\n  <div id=\"page-wrapper\">\r\n     <h1>新建频道</h1>\r\n     <label for=\"text\">频道名称</label><input type=\"text\" id=\"text\" v-model=\"name\">\r\n  \t <label for=\"name\">创建者</label><input type=\"text\" id=\"name\" v-model=\"person\">\r\n     <button @click=\"submit\">提交</button>\r\n\t</div>\r\n</template> \r\n<script>\r\nimport channelHandle from 'store/Channel.js'\r\nexport default {\r\n   data(){\r\n    return{\r\n      name:'',\r\n      person:''\r\n    }\r\n   },\r\n   methods:{\r\n       submit:function(){\r\n          var that=this;\r\n          if( (this.name==\"\") || (this.person==\"\")){\r\n              alert('填写完信息再提交！')\r\n          }\r\n          else{\r\n              channelHandle.createNewChannel({\r\n                \"userId\":sessionStorage.getItem('userId'),\r\n                \"channelName\":this.name}).then(function(res){\r\n\r\n                if(res.data.retureValue==0){\r\n                  alert('新建成功')\r\n                     localStorage.setItem('channelId',res.data.retureData.channelId);\r\n                    that.$emit(\"message\",{name:that.name,person:that.person});\r\n                    that.name=\"\";               //向父组件传递参数后，清空数据框\r\n                    that.person=\"\";\r\n                }\r\n                else{\r\n                  //alert(\"创建失败\")\r\n                }\r\n                }).catch(\r\n                  function(err){\r\n                    console.log(err);\r\n                    //alert(\"创建失败.\");\r\n                  }\r\n                );\r\n              \r\n              //this.$emit(\"message\",{name:this.name,person:this.person});  \r\n              //之前清空数据框放在这里，结果导致新建的频道拿不到name和person，应该是因为ajax请求是异步的，因此\r\n              //先执行到了这里\r\n          }\r\n       }\r\n   }\r\n}\r\n</script>\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n\r\n#page-wrapper {\r\n  width: 640px;\r\n  background: #FFFFFF;\r\n  padding: 1em;\r\n  margin: 1em auto;\r\n  border: 1px solid #293949;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.8);\r\n}\r\n\r\nh1 {\r\n  margin-top: 0;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  padding-bottom: 0.25em;\r\n  text-align left\r\n}\r\n\r\ninput {\r\n  display: block;\r\n  font-size: 1.2em;\r\n  padding: 0.25em;\r\n  width: 100%;\r\n  margin-bottom: 1em;\r\n  border-radius: 3px;\r\n  border: 1px solid #BABABA;\r\n}\r\n\r\nbutton {\r\n  display: inline-block;\r\n  border-radius: 3px;\r\n  border: none;\r\n  font-size: 0.9rem;\r\n  padding: 0.4rem 0.8em;\r\n  background: #293949;\r\n  border-bottom: 1px solid #498b50;\r\n  color: white;\r\n  -webkit-font-smoothing: antialiased;\r\n  font-weight: bold;\r\n  margin: 0 0.25rem;\r\n  text-align: center;\r\n}\r\n\r\nbutton:hover, button:focus {\r\n  opacity: 0.75;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:active {\r\n  opacity: 1;\r\n  box-shadow: 0 -3px 10px rgba(0, 0, 0, 0.1) inset;\r\n}\r\n\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/channelInput.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"page-wrapper\"}},[_c('h1',[_vm._v(\"新建频道\")]),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"text\"}},[_vm._v(\"频道名称\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],attrs:{\"type\":\"text\",\"id\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"创建者\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.person),expression:\"person\"}],attrs:{\"type\":\"text\",\"id\":\"name\"},domProps:{\"value\":(_vm.person)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.person=$event.target.value}}}),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-f03b16ba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/channelInput.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f03b16ba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./channelInput.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./channelInput.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./channelInput.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f03b16ba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./channelInput.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f03b16ba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/channelInput.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    \r\n       <section class=\"mt30 clearfix\">\r\n       <Shelf title=\"频道一览\">\r\n       </Shelf>\r\n         <Button text=\"新建频道\"  @btnClick=\"newchannel\" class=\"button\"></Button>\r\n         <channelInput v-show=\"isShow\" v-on:message=\"handleMessage\" class=\"input\"></channelInput>\r\n      <div  class=\"homevideo\" > \r\n        <videoCard :msg=\"item\" :key=\"i\" v-for=\"(item,i) in videoList\" @cardClick=\"toLive(item.channelName,item.channelId)\"></videoCard>\r\n       </div>\r\n       \r\n     </section>\r\n    \r\n    \r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport Shelf from 'components/common/shelf'\r\nimport videoCard from 'components/common/videoCard'\r\nimport Button from 'components/common/button'\r\nimport channelInput from 'components/channelInput'\r\nimport { mapMutations, mapState } from 'vuex'\r\nimport { getStore } from 'store/storage'\r\nimport channelHandle from 'store/Channel.js'\r\n    export default{\r\n      data(){\r\n           return{\r\n             isShow:false,   //决定新建频道框是否弹出\r\n             messages:''     //存储新建框这个子组件传上来的信息\r\n           }\r\n       },\r\n      components:{\r\n        Shelf,\r\n        videoCard,\r\n        Button,\r\n        channelInput \r\n      },\r\n      computed:{\r\n        ...mapState(\r\n          ['videoList']\r\n        )\r\n      },\r\n      created(){\r\n         var user=sessionStorage.getItem('userId');\r\n         var that=this;\r\n         channelHandle.getChannelList({\"userId\":user}).then(function(res){\r\n              if(res.data.retureValue==0){\r\n                console.log(res.data.retureData);\r\n                that.$store.state.videoList=[];\r\n                for(let i=0;i<res.data.retureData.length;i++){\r\n                   let temp=res.data.retureData[i];\r\n                   if(!temp.imgLocation) temp.imgLocation='static/imgs/cover2.jpg';\r\n                   if(!temp.playNum) temp.playNum=100;\r\n                   if(!temp.viewNum) temp.viewNum=50;\r\n                   that.$store.state.videoList.push(temp);\r\n                }\r\n              }\r\n              else{\r\n                 alert(\"加载失败\");\r\n              }\r\n         }).catch(function(err){\r\n             console.log(err);\r\n             alert(\"加载失败.\");\r\n         });\r\n      },\r\n      methods:{\r\n        ...mapMutations(['ADD_CHANNEL']),\r\n        newchannel:function(){\r\n           this.isShow = !this.isShow;\r\n\r\n        },\r\n        handleMessage:function(payload){\r\n           this.messages=payload;\r\n           this.isShow=false;\r\n           this.ADD_CHANNEL({\r\n             imgLocation:'static/imgs/cover2.jpg',\r\n             channelName:this.messages.name,\r\n             playNum:0,\r\n             viewNum:0\r\n           });\r\n        },\r\n        toLive:function(name,id){\r\n           //console.log(name)\r\n           //this.$router.push('newLive');\r\n           this.$router.push({name:'newLive',params:{nameId:name,channelId:id}});\r\n        }\r\n      }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n    .mt30 {\r\n    width:1220px;\r\n    height:100%;\r\n    margin:50px auto;\r\n    margin-left -18px\r\n    margin-top 10px\r\n    border-radius: 8px;\r\n    border: 1px solid #dcdcdc;\r\n    border-color: rgba(0, 0, 0, .14);\r\n    box-shadow: 0 3px 8px -6px rgba(0, 0, 0, .1);\r\n  }\r\n  .homevideo\r\n    display flex\r\n    flex-wrap: wrap \r\n    >div\r\n      flex 0 0 25%\r\n  .button{\r\n    position:absolute;\r\n    top:145px;\r\n    left:78%;\r\n    z-index:20;\r\n  }\r\n  .input{\r\n    position absolute;\r\n    left:50%;\r\n    top:55%;\r\n    transform: translate(-50%,-50%);\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/containers/manage/manageDetail/channel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"mt30 clearfix\"},[_c('Shelf',{attrs:{\"title\":\"频道一览\"}}),_vm._v(\" \"),_c('Button',{staticClass:\"button\",attrs:{\"text\":\"新建频道\"},on:{\"btnClick\":_vm.newchannel}}),_vm._v(\" \"),_c('channelInput',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"input\",on:{\"message\":_vm.handleMessage}}),_vm._v(\" \"),_c('div',{staticClass:\"homevideo\"},_vm._l((_vm.videoList),function(item,i){return _c('videoCard',{key:i,attrs:{\"msg\":item},on:{\"cardClick\":function($event){_vm.toLive(item.channelName,item.channelId)}}})}))],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-332c2b92\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/containers/manage/manageDetail/channel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-332c2b92\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./channel.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./channel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./channel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-332c2b92\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./channel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-332c2b92\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/manage/manageDetail/channel.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}